# DeFi Risk Assessment Framework

> Documentation Index | Generated: 2026-01-22

## Project Overview

- **Type:** Monolith (Python data analysis application)
- **Primary Language:** Python 3.13
- **Framework:** Streamlit 1.53.0
- **Architecture:** Modular Monolith - Layered Data Pipeline
- **Domain:** DeFi asset risk scoring and analysis

## Quick Reference

| Attribute | Value |
|-----------|-------|
| Entry Point | `streamlit run streamlit_app.py` |
| CLI Alternative | `python risk_framework.py` |
| Config Format | JSON (`example_*.json`) |
| Output | Risk grade A-F with category breakdown |

## Generated Documentation

### Core Documents

- [Project Overview](./project-overview.md) - High-level summary and quick start
- [Architecture](./architecture.md) - System design, data flow, technology stack
- [Development Guide](./development-guide.md) - Setup, dependencies, workflow
- [Source Tree Analysis](./source-tree-analysis.md) - File structure with annotations

### Existing Documentation

- [Scoring Methodology](../PROJECT_DOCUMENTATION.md) - Comprehensive 730-line document covering:
  - Config JSON schema
  - Two-stage scoring system
  - All category thresholds with justifications
  - Circuit breakers
  - Data source references
  - Contract addresses

## Key Files

### Entry Points

| File | Purpose |
|------|---------|
| `streamlit_app.py` | Main web dashboard (10 tabs) |
| `risk_framework.py` | Interactive CLI runner |

### Scoring Engine

| File | Purpose |
|------|---------|
| `asset_score.py` | Risk score calculation |
| `thresholds.py` | Threshold definitions |
| `primary_checks.py` | Pass/fail qualification |

### Data Fetchers

| File | Data Source |
|------|-------------|
| `aave_data.py` | Aave V3 lending metrics |
| `compound.py` | Compound V3 metrics |
| `uniswap.py` | Uniswap V3 pools |
| `curve.py` | Curve pools |
| `proof_of_reserve.py` | Chainlink PoR |
| `oracle_lag.py` | Oracle freshness |
| `price_risk.py` | CoinGecko price data |
| `slippage_check.py` | DEX slippage |

### Configuration Templates

| File | Asset |
|------|-------|
| `example_wsteth_config.json` | Lido wstETH |
| `example_cbbtc_config.json` | Coinbase cbBTC |
| `example_wbtc_config.json` | Wrapped BTC |
| `example_rlp_config.json` | Reserve LP Token |

## Getting Started

### 1. Setup Environment

```bash
cd risk_framework_isolated_scripts
source venv/bin/activate
```

### 2. Run Dashboard

```bash
streamlit run streamlit_app.py
```

### 3. Analyze an Asset

1. Open `http://localhost:8501`
2. Upload a config JSON file
3. Navigate through the 10 tabs to explore risk metrics

## Risk Scoring Summary

### Primary Checks (Must Pass)

1. Has security audit
2. No unresolved critical issues
3. No active security incident (<30 days)

### Category Weights

| Category | Weight |
|----------|--------|
| Smart Contract | 10% |
| Counterparty | 25% |
| Market | 15% |
| Liquidity | 15% |
| Collateral | 10% |
| Reserve/Oracle | 25% |

### Grade Scale

| Grade | Score Range | Risk Level |
|-------|-------------|------------|
| A | 85-100 | Minimal |
| B | 70-84 | Low |
| C | 55-69 | Moderate |
| D | 40-54 | Elevated |
| F | 0-39 | High |

## External Data Sources

| Source | Used For |
|--------|----------|
| Chainlink | Proof of Reserves, Oracles |
| The Graph | DEX subgraphs |
| CoinGecko | Price history, volatility |
| Blockscout | Token holders, balances |
| 1inch/CowSwap | Slippage quotes |
| dRPC | On-chain RPC calls |

## Support

- **Main Documentation:** [PROJECT_DOCUMENTATION.md](../PROJECT_DOCUMENTATION.md)
- **Code Location:** All `.py` files in project root
- **Config Examples:** `example_*.json` files

---

*This documentation was auto-generated by the BMAD Document Project workflow.*
